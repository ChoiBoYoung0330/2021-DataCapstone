# [코로나19 전후의 소비액 구성 요소 및 관광지 선택 요소 분석]

## 요약
코로나19의 영향으로 변화된 관광지 선택과 소비 행동을 분석하였다. 주된 목적은 관광지 선택 동기를 파악하여 관광 트렌드를 이해하고, 이를 토대로 관광지 마케팅에 활용할 수 있는 인사이트를 도출하였다.

1. 소비 분야 타겟 도출: 특정 소비 분야의 소비자를 파악하여 타겟층을 정의할 수 있다.
2. 주된 방문 이유 파악: 특정 관광지를 선택하는 주된 이유를 식별하여 관광지별 다른 마케팅 전략에 반영할 수 있다.
3. 관광객 특성을 활용한 마케팅 타겟 도출: 각 관광지를 선택하는데 영향을 미치는 관광객의 특성을 파악하여 개인화된 마케팅 전략을 구축하는 데 도움이 될 수 있다.
4. 관광 마케팅 전략 수립: 도출된 인사이트를 토대로 관광 정책 방향 제안 및 관광 마케팅 전략 수립에 활용할 수 있다.

## 프로젝트 목적 및 필요성
코로나19로 인해 많은 활동들에 대한 제약이 생기면서 사람들의 소비 활동에 변화가 발생하였는지에 대해 알아보고자 한다. 관광지에 대한 분석은 관광지를 선택하게 한 요인이 관광 만족도에 미치는 영향이나 관광객 행동 의도 간 영향 관계 분석이 대부분이다. 따라서 관광지에서의 총 소비액에 미치는 요소를 분석하고 관광지를 선택하는 이유를 설명함으로써 관광 트렌드에 대한 변화를 분석해보고자 한다.
이를 통해 다음과 같이 활용하여 추후 관광 정책 방향 제안 및 관광지 마케팅에 활용할 수 있다.
1. 소비 분야 타겟 도출
2. 관광객이 특정 관광지에 방문하는 주된 이유를 파악
3. 해당 이유에 영향을 미친 관광객의 개인 특성을 활용하여 관광지 마케팅 타겟 도출
4. 관광 마케팅 전략 수립

## 프로젝트 과정
1. 소비액 데이터 분석: 관광객이 관광지에서 소비하는 돈을 항목별로 분석하여 코로나19 창궐 이전과 이후의 변화 분석에 주목하였다. 한국관광공사 데이터랩에서 제공하는 국민여행조사 데이터 중 여행지 지출 항목을 활용하여 소비액 데이터를 구성하였다. 이 데이터를 다중선형회귀모델에 적용시켜 어떤 항목이 총 소비액에 가장 큰 영향을 미치는지, 2019년과 2020년을 비교해 보았을 때, 각 항목의 영향력이 어떻게 변화하였는지를 분석하였다.
2. 관광지 데이터 분석: 국민여행조사 데이터 중 관광객 개인 특성에 대한 항목과 관광지를 선택한 이유에 대한 항목을 활용하여 관광객이 관광지를 선택하는 이유에 연령, 근로 여부, 혼인 상태, 성별 등의 개인적인 특성이 포함되는지 의사결정나무를 활용해 분석하였다.

## Data Preparation
[네비게이션 데이터]

T-map에서 제공하는 광역 지자체별, 관광지 유형별 목적지 검색 건수에 관한 데이터

[BC카드 데이터]

BC카드에서 제공하는 지역별, 소비 유형별 관광 소비액에 관한 데이터. BC카드 이용자 데이터를 통해 전체 카드 이용자의 데이터를 추정할 수는 없지만 기존 연구들에서의 데이터 추정 방법과 같이 단일 카드사 자료만을 활용(문화체육관광부의 "문화예술 공연실태", 행정자치부/전라북도/전주시의 "공공분야 빅데이터 분석", 한국은행 지역경제 보고서의 "카드사 빅데이터를 이용한 제주 관광객의 소비 특성 분석")

[국민여행조사 데이터]

설문조사를 통해 수집된 데이터로 앞 문항과 연결된 문항이 존재한다.

### 변수 선택
[네비게이션 데이터]
- 자연관광지: 강, 공원, 명산, 섬, 자연휴양림, 폭포, 호수, 등대, 항구 등
- 역사관광지: 고궁, 민속마을, 능묘, 절, 탑 등
- 휴양관광지: 동물원, 식물원, 온천, 수족관, 유원지, 놀이시설, 테마파크 등
- 숙박: 호텔, 펜션, 캠핑장 등
- 기타관광지: 관광단지, 전망대, 공항

[BC카드 데이터]
- 숙박업: 호텔, 모텔, 콘도, 펜션, 캠핑장 등
- 여행업: 관광여행사
- 카지노
- 레저스포츠: 골프경기장, 스키장, 스파랜드, 수상레저, 승마, 낚시, 삭도 등

[국민여행조사 데이터]

<소비액 데이터 분석>
|column명|설명|column명|설명|
|:--:|:--:|:--:|:--:|
|Shopping|쇼핑비|Food|식음료비|
|Accommodation|숙박비|Transportation|교통비|
|Activity|여행활동비|Etc|기타|
|All|총 소비액|||

<관광지 데이터 분석>
|column명|설명|column명|설명|
|:--:|:--:|:--:|:--:|
|marriage|결혼 여부|work|근로 여부|
|gender|성별|age|연령|
|family|동거 가구원 수|reason|여행지를 선택한 이유|

1) 여행지 선택 이유: 여행지 지명도, 볼거리 제공, 저렴한 여행경비, 이동거리, 여행할 수 있는 시간, 숙박시설, 쇼핑, 음식, 교통편, 체험프로그램 유무, 경험자의 추천, 관광지 편의시설, 교육적 이유, 여행 동반자 유형, 기타
2) 비여행 이유: 여행에 관심이 없어서, 여행이 재미없을 것 같아서, 건강상의 문제로, 시간이 없어서, 여행경비가 부족해서, 여행정보가 부족해서, 관광 시설이 불편해서, 함께 여행할 사람이 없어서, 가족/친구와 시간을 맞추기 힘들어서, 집안에 돌봐야 하는 가족이 있어서, 기타, 코로나19 때문에(2020)

### 데이터 처리(이상치/결측치 제거 포함)
[네비게이션 데이터]

공연행사, 문화시설, 레포츠, 쇼핑, 식음료는 관광보다 일상에서 검색하는 건수가 더 많거나 분석 목적인 관광 목적지 파악에 적합하지 않으므로 제외

[BC카드 데이터]
- 문화서비스 및 유원시설, 소핑, 식음료는 관광보다 일상에서 더 많이 소비하므로 제외
- 대중교통, 렌터카, 항공사의 경우 국민여행조사에서 제공하는 데이터 사용
- 면세점은 국제선과 국내선을 이용한 관광객의 데이터를 구분할 수 없으므로 제외

[국민여행조사 데이터]
<소비액 데이터 분석>
1. 데이터 내부 NULL 값
   1) 한 해 동안 국내 관광을 하지 않은 경우
      - 관광지에서 소비한 내역도 당연히 없으므로 NULL 값 모두 0으로 처리
   2) 해당 항목을 소비하지 않은 경우
      - NULL 값 모두 0으로 처리
2. Multiple Linear Regressin을 적용하기 위해 Data Type을 int형으로 변경

<관광지 데이터 분석>
1. 데이터 내부 NULL 값
   - 값을 표기하지 않은 이유를 추정할 수 있는 방법이 없으므로 선택 이유가 NULL인 값을 삭제
2. Decision Tree Model을 적용하기 위해 column 값에 새로운 index 값을 부여
   1) marriage: 1 - 미혼, 이혼, 사별, 기타 / 2 - 기혼
   2) work: 1 - 근로 O / 2 - 근로 X
   3) gender: 1 - 남 / 2 - 여
   4) age: 1 - 15~39세 / 2 - 40세 이상
   5) family: 1 - 1인 가구 / 2 - 2인 이상

## 분석 과정
[네비게이션 데이터]

각 항목별 목적지 검색건수를 광역지자체별로 분석

[BC카드 데이터]

각 항목별 관광지출액을 지역별로 분석

[소비액 데이터 분석]
- 한국관광공사 데이터랩에서 제공하는 데이터를 가공하여 Expense_2019.csv와 Expense_2020.csv를 만들어 활용
- 종속변수와 독립변수를 구분하여 LinearRegression()에 fitting
- 각 데이터 분포가 정규분포인지 확인하기 위해 stats.ktest()를 활용해 kolmogorov smirnov 검정 진행
- stats.ranksum()을 활용해 항목별 p-value 도출
- 2019년도와 2020년도의 소비액 영향 정도를 회귀식 가중치를 활용해 분석
  
[관광지 선택 이유 분석]
- 한국관광공사 데이터랩에서 제공하는 데이터를 가공하여 DestinationReason_2019.csv를 만들어 활용
- 항목별 구간을 2개의 구간으로 수정하여 분석하는 방법 우선 진행
- 각 항목을 두 구간으로 재구분
- 종속변수와 독립변수를 구분하여 DecisionTreeClassifier()에 fitting
- 최적의 트리 모형을 찾기 위해 최적의 max_depth, max_leaf_nodes 값 탐색(시각화)
- get_dummies()를 활용해 수치형 변수를 가변수화하여 분석하는 방법 진행
- fitting과 최적화 과정 반복

## 분석 결과
[네비게이션 데이터]

전체 항목으로 2019년과 2020년을 비교해 보았을 때, 2020년이 1500만건 이상 검색건수가 더 많았다. 역사관관지와 숙박관광지의 검색건수가 소폭 증가한 가운데 자연관광지에서 250만건 이상 검색건수가 증가하였다. 반면에 휴양관광지와 기타관광지에서는 감소한 것으로 나타난다. 자연관광지와 역사관광지의 경우 사람들과의 밀접접촉이 불필요하고, 숙박관광지의 경우 프라이빗한 공간에서 관광을 즐길 수 있어 검색건수가 증가한 것을 볼 수 있다.

[BC카드 데이터]

숙박업, 여행업, 카지노, 레저스포츠 모든 항목에서 2020년의 지출이 감소하였다. 특히 여행업에서 천억 이상의 감소를 볼 수 있다. 이는 코로나로 인한 국내여행 및 해외여행의 제한으로 인한 결과로 해석할 수 있다.

[국민여행조사 데이터]

<소비액 분석 데이터>

숙박비의 영향력이 증가하고, 음식비와 여행활동비의 비중이 감소한 부분에 주목해야 한다. 코로나19로 인해 사회적 거리두기를 시행하고 있고, 이에 따라 여행 활동이나 식당에서 음식을 먹는 관광객이 줄어들어 자연스레 총 소비액에 대한 비중이 감소했다고 볼 수 있다. 대신, 관광객들이 본인의 일행과 호텔이나 펜션과 같은 장소를 관광에 대한 대안으로 더 많이 찾으면서 여가 시간을 즐겼기 때문에 위와 같은 결과가 나왔다고 설명할 수 있다. 

<관광지 선택 이유 분석>

데이터를 가공하는 방식을 바꾸고, 모델에 적용되는 파라미터를 변경해도 모델의 정확도가 0.2 주변에서 맴도는 것을 확인할 수 있었다. 결국, 본 분석에 사용된 관광객의 개인 특성 요소들만으로는 관광지를 선택하는 이유를 설명하기 어렵다고 판단할 수 있다.

## 겪었던 문제상황
국민여행조사 데이터의 관광지 선택 이유 분석에서 처음 계획은 관광객의 개인적 특성을 multiple linear regression에 적용하여 관광지를 선택한 이유를 설명하는 것이 목표였다. 하지만 개인적 특성은 범주형 데이터로 구성이 되어 있고 pd.get_dummies를 활용하려 시도하였다. 널값을 삭제하고 범주형 데이터를 양적 데이터로 변환하였지만 독립변수에 들어갈 관광지 선택 이유도 범주형 데이터라는 문제가 있어 R의 의사결정나무 모델을 시도해보았지만 범주형 데이터를 수치형 데이터처럼 처리하여 활용할 수 없는 의사결정나무가 도출이 되었다. 마지막으로 파이썬의 scikit-learn 라이브러리를 활용하였지만 모델의 정확도가 매우 낮게 나왔다.
